(function(p){"use strict";var h=h||{};h.init=function(){h.$body=p(document.body),h.$window=p(window),h.$header=p("#site-header"),h.$iconChevronLeft='<span class="slick-prev-arrow farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M22.4 32c0.205 0 0.409-0.078 0.566-0.234 0.312-0.312 0.312-0.819 0-1.131l-13.834-13.834 13.834-13.834c0.312-0.312 0.312-0.819 0-1.131s-0.819-0.312-1.131 0l-14.4 14.4c-0.312 0.312-0.312 0.819 0 1.131l14.4 14.4c0.156 0.156 0.361 0.234 0.566 0.234z"></path></svg></span>',h.$iconChevronRight='<span class="slick-next-arrow farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M8 32c-0.205 0-0.409-0.078-0.566-0.234-0.312-0.312-0.312-0.819 0-1.131l13.834-13.834-13.834-13.834c-0.312-0.312-0.312-0.819 0-1.131s0.819-0.312 1.131 0l14.4 14.4c0.312 0.312 0.312 0.819 0 1.131l-14.4 14.4c-0.156 0.156-0.361 0.234-0.566 0.234z"></path></svg></span>',h.$icon_check='<span class="message-icon farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M15.2 32c-4.060 0-7.877-1.581-10.748-4.452s-4.452-6.688-4.452-10.748c0-4.060 1.581-7.877 4.452-10.748s6.688-4.452 10.748-4.452c4.060 0 7.877 1.581 10.748 4.452s4.452 6.688 4.452 10.748-1.581 7.877-4.452 10.748c-2.871 2.871-6.688 4.452-10.748 4.452zM15.2 3.2c-7.499 0-13.6 6.101-13.6 13.6s6.101 13.6 13.6 13.6 13.6-6.101 13.6-13.6-6.101-13.6-13.6-13.6zM12 23.2c-0.205 0-0.409-0.078-0.566-0.234l-4.8-4.8c-0.312-0.312-0.312-0.819 0-1.131s0.819-0.312 1.131 0l4.234 4.234 10.634-10.634c0.312-0.312 0.819-0.312 1.131 0s0.312 0.819 0 1.131l-11.2 11.2c-0.156 0.156-0.361 0.234-0.566 0.234z"></path></svg></span>',h.$icon_alert='<span class="message-icon farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M15.2 32c-0.085 0-0.171-0.014-0.253-0.041-2.943-0.981-6.636-4.242-9.408-8.308-2.527-3.706-5.539-9.846-5.539-18.051 0-0.442 0.358-0.8 0.8-0.8 4.502 0 11.581-3.082 13.956-4.666 0.269-0.179 0.619-0.179 0.887 0 2.375 1.584 9.454 4.666 13.956 4.666 0.442 0 0.8 0.358 0.8 0.8 0 8.205-3.012 14.345-5.539 18.051-2.772 4.066-6.465 7.327-9.408 8.308-0.082 0.027-0.168 0.041-0.253 0.041zM1.609 6.374c0.181 7.409 2.932 12.973 5.252 16.376 2.83 4.151 6.169 6.767 8.339 7.601 2.17-0.833 5.509-3.45 8.339-7.601 2.32-3.403 5.070-8.966 5.252-16.376-2.605-0.163-5.506-1.060-7.568-1.824-2.269-0.84-4.558-1.909-6.022-2.802-1.464 0.893-3.753 1.962-6.022 2.802-2.062 0.764-4.963 1.66-7.568 1.824zM15.2 17.6c-0.442 0-0.8-0.358-0.8-0.8v-8c0-0.442 0.358-0.8 0.8-0.8s0.8 0.358 0.8 0.8v8c0 0.442-0.358 0.8-0.8 0.8zM15.2 22.4c-0.442 0-0.8-0.358-0.8-0.8v-1.6c0-0.442 0.358-0.8 0.8-0.8s0.8 0.358 0.8 0.8v1.6c0 0.442-0.358 0.8-0.8 0.8z"></path></svg></span>',h.$icon_close='<span class="close farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M17.131 16.8l9.034-9.034c0.312-0.312 0.312-0.819 0-1.131s-0.819-0.312-1.131 0l-9.034 9.034-9.034-9.034c-0.312-0.312-0.819-0.312-1.131 0s-0.312 0.819 0 1.131l9.034 9.034-9.034 9.034c-0.312 0.312-0.312 0.819 0 1.131 0.156 0.156 0.361 0.234 0.566 0.234s0.409-0.078 0.566-0.234l9.034-9.034 9.034 9.034c0.156 0.156 0.361 0.234 0.566 0.234s0.409-0.078 0.566-0.234c0.312-0.312 0.312-0.819 0-1.131l-9.034-9.034z"></path></svg></span>',h.$icon_chevron_down='<span class="cat-menu-close farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M0 9.6c0-0.205 0.078-0.409 0.234-0.566 0.312-0.312 0.819-0.312 1.131 0l13.834 13.834 13.834-13.834c0.312-0.312 0.819-0.312 1.131 0s0.312 0.819 0 1.131l-14.4 14.4c-0.312 0.312-0.819 0.312-1.131 0l-14.4-14.4c-0.156-0.156-0.234-0.361-0.234-0.566z"></path></svg></span>';this.preLoader();this.searchFormHandler();this.cartTogglePanel();this.menuSideBar();this.recentlyViewedProducts();this.menuMobile();this.searchMobile();this.catalogBanners();this.catalogCategories();this.catalogProducts();this.productAttribute();this.catalogToolbarPagination();this.shopView();this.catalogFilterAjax();this.filterOnMobile();this.productQuickView();this.catalogOpenCartMini();this.updateWishlistCounter();this.addWishlist();this.addCompare();this.loadMoreProducts();this.productCategoriesWidget();this.searchLayeredNav();this.toggleWidget();this.productsCarouselWidget();this.addClassCalendar();this.productThumbnail();this.productVideo();this.productGallery();this.hoverProductTabs();this.singleProductCarousel();this.fbtProduct();this.fbtAddToCartAjax();this.fbtAddToWishlistAjax();this.productVariation();this.stickyProductInfo();this.productsCarousel();this.reviewProduct();this.productQuantity();this.buyNow();this.addToCartAjax();this.Tabs();this.postFormatGallery();this.postRelated();this.blogFilterAjax();this.blogLoadingAjax();this.popupVideo();this.filterSidebar();this.changeArrowNav();this.scrollTop();this.wooTabToggle();this.catalogSorting();this.goBackToPreviouslyPage()};h.searchFormHandler=function(){if(farmartData.header_ajax_search!="1"){return}h.$body.find(".farmart-products-search, .fm-search-form, .fm-search-icon").each(function(){var t=p(this);t.on("change",".product-cat-dd",function(){var e=p(this).find("option:selected").text().trim();t.find(".product-cat-label .label").html(e)});t.find(".products-search").submit(function(){if(p(this).find(".product-cat-dd").val()=="0"){p(this).find(".product-cat-dd").removeAttr("name")}});if(typeof wc_add_to_cart_params==="undefined"){return}var d=null,a=t.closest("form.form-search"),l={};t.on("keyup",".search-field",function(e){var t=false;if(typeof e.which=="undefined"){t=true}else if(typeof e.which=="number"&&e.which>0){t=!e.ctrlKey&&!e.metaKey&&!e.altKey}if(!t){return}if(d){d.abort()}var a=p(this).closest(".form-search"),i=a.find("input.search-field");if(i.val().length<2){a.removeClass("searching searched actived found-products found-no-product invalid-length");p(document.body).removeClass("fm-search-mobile-success")}o(a)}).on("change",".product-cat input",function(){if(d){d.abort()}var e=p(this).closest(".form-search");o(e)}).on("change",".product-cat-dd",function(){if(d){d.abort()}var e=p(this).closest(".form-search");o(e)}).on("focusout",".search-field",function(){var e=p(this).closest(".form-search"),t=e.find("input.search-field");if(t.val().length<2){e.removeClass("searching searched actived found-products found-no-product invalid-length");p(document.body).removeClass("fm-search-mobile-success")}}).on("click",".product-cat-click a",function(){p(".product-cat-click li").removeClass("actived");p(this).parent().addClass("actived");a.removeClass("actived");if(d){d.abort()}var e=p(this).attr("data-catslug");if(e==undefined){e=0}var t=p(this).closest(".form-search");t.find('input[name="product_cat"]').val(e);o(t);return false});t.on("click",".close-search-results",function(e){e.preventDefault();t.find(".search-field").val("");t.find(".form-search").removeClass("searching searched actived found-products found-no-product invalid-length");p(document.body).removeClass("fm-search-mobile-success")});function o(a){var e=a.find("input.search-field"),t=e.val(),i=0,o=a.find(".search-results");if(a.find(".product-cat-dd").length>0){i=a.find(".product-cat-dd").val()}if(a.find('input[name="product_cat"]').val()){i=a.find('input[name="product_cat"]').val()}if(t.trim().length<2){a.removeClass("searching found-products found-no-product").addClass("invalid-length");return}a.removeClass("found-products found-no-product").addClass("searching");var r=t+i;if(r in l){var n=l[r];a.removeClass("searching");a.addClass("found-products");o.html(n.products);p(document.body).trigger("farmart_ajax_search_request_success",[o]);a.removeClass("invalid-length");a.addClass("searched actived");p(document.body).addClass("fm-search-mobile-success")}else{var s={term:t,cat:i,ajax_search_number:farmartData.header_search_number,search_type:farmartData.search_content_type},c=farmartData.ajax_url.toString().replace("%%endpoint%%","farmart_instance_search_form");d=p.post(c,s,function(e){var t=e.data;a.removeClass("searching");a.addClass("found-products");o.html(t);a.removeClass("invalid-length");p(document.body).trigger("farmart_ajax_search_request_success",[o]);l[r]={found:true,products:t};a.addClass("searched actived");p(document.body).addClass("fm-search-mobile-success")})}}})};h.cartTogglePanel=function(){var t=h.$body;t.on("click",'[data-toggle="modal"]',function(e){e.preventDefault();var t="#"+p(this).data("target");var a=window.innerWidth-document.documentElement.clientWidth;p(document.body).css({"padding-right":a,overflow:"hidden"});p(t).fadeIn();p(t).toggleClass("open");p(t).find(".box-cart-wrapper").toggleClass("open");p(t).find(".fm-off-canvas-layer").toggleClass("open")}).on("click",".fm-off-canvas-layer, .go-back",function(){p(document.body).removeAttr("style");p(".header-transparent .site-header").removeAttr("style");t.find(".cart-panel").fadeOut();t.find(".cart-panel").removeClass("open");t.find(".fm-off-canvas-layer").removeClass("open");t.find(".box-cart-wrapper").removeClass("open");t.find(".box-cart-wrapper").removeAttr("style")}).on("keyup",function(e){if(e.keyCode===27){p(document.body).removeAttr("style");t.find(".cart-panel").fadeOut();t.find(".cart-panel").removeClass("open");t.find(".fm-off-canvas-layer").removeClass("open");t.find(".box-cart-wrapper").removeClass("open");t.find(".box-cart-wrapper").removeAttr("style")}})};h.menuSideBar=function(){p("#primary-menu, .fm-nav-mobile-menu").find(".menu-item-has-children > a").append('<span class="toggle-menu-children"><span class="farmart-svg-icon"><svg viewBox="0 0 1024 1024"><path class="path1" d="M0 307.2c0-6.552 2.499-13.102 7.499-18.101 9.997-9.998 26.206-9.998 36.203 0l442.698 442.698 442.699-442.698c9.997-9.998 26.206-9.998 36.203 0s9.998 26.206 0 36.203l-460.8 460.8c-9.997 9.998-26.206 9.998-36.203 0l-460.8-460.8c-5-5-7.499-11.55-7.499-18.102z"></path></svg></span></span>');p(".department-menu").find(".menu-item-has-children > a").append('<span class="toggle-menu-children"><span class="farmart-svg-icon"><svg viewBox="0 0 1024 1024"><path class="path1" d="M256 1024c-6.552 0-13.102-2.499-18.101-7.499-9.998-9.997-9.998-26.206 0-36.203l442.698-442.698-442.698-442.699c-9.998-9.997-9.998-26.206 0-36.203s26.206-9.998 36.203 0l460.8 460.8c9.998 9.997 9.998 26.206 0 36.203l-460.8 460.8c-5 5-11.55 7.499-18.102 7.499z"></path></svg></span></span>')};h.recentlyViewedProducts=function(){h.$body.find(".fm-header-recently-viewed").each(function(){var e=p(this),t=true;e.hover(function(){if(t){a(e);t=false}})});function a(a){var i=a.find(".recently-has-products");var e={numbers:15,nonce:farmartData.nonce},t=farmartData.ajax_url.toString().replace("%%endpoint%%","farmart_recently_viewed_products");if(t==""){return}p.post(t,e,function(e){var t=p(e.data);i.html(t);if(i.find(".product-list").hasClass("no-products")){a.find(".recently-viewed-products").remove();if(a.hasClass("hide-empty-section")){a.addClass("fm-hide-section")}}else{a.find(".recently-empty-products").remove()}o(a);a.addClass("products-loaded").find(".farmart-loading--wrapper").remove()})}function o(e,t={}){var a=e,i=a.find("ul.products,ul.product-list"),o={arrows:true,dots:false,autoplay:false,infinite:true,autoplaySpeed:3e3,speed:800,slidesToShow:10,slidesToScroll:1,rtl:false};var r=JSON.stringify(o);var n={prevArrow:'<span class="slick-prev-arrow farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M22.4 32c0.205 0 0.409-0.078 0.566-0.234 0.312-0.312 0.312-0.819 0-1.131l-13.834-13.834 13.834-13.834c0.312-0.312 0.312-0.819 0-1.131s-0.819-0.312-1.131 0l-14.4 14.4c-0.312 0.312-0.312 0.819 0 1.131l14.4 14.4c0.156 0.156 0.361 0.234 0.566 0.234z"></svg></path></span>',nextArrow:'<span class="slick-next-arrow farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M8 32c-0.205 0-0.409-0.078-0.566-0.234-0.312-0.312-0.312-0.819 0-1.131l13.834-13.834-13.834-13.834c-0.312-0.312-0.312-0.819 0-1.131s0.819-0.312 1.131 0l14.4 14.4c0.312 0.312 0.312 0.819 0 1.131l-14.4 14.4c-0.156 0.156-0.361 0.234-0.566 0.234z"></svg></path></span>'};if(a.data("type")=="grid"){return}p.extend(true,n,t);i.attr("data-slick",r);i.not(".slick-initialized").slick(n)}};h.menuMobile=function(){h.$body.find(".fm-menu-mobile").each(function(){var a=h.$body.find(".farmart-menu-mobile"),i=p(".fm-menu-mobile").not(a);a.on("click",".menu-box-title",function(e){var t=p(this);e.preventDefault();i.find(".menu-mobile-wrapper").removeClass("open");i.removeClass("menu-active");t.siblings(".menu-mobile-wrapper").toggleClass("open");t.parent().toggleClass("menu-active");p(document.body).toggleClass("display-canvas-layer-menu");p(document).trigger("farmart_toggle_menu_mobile")});p(".fm-off-canvas-layer").on("click",function(e){p(document.body).removeClass("display-canvas-layer-menu");a.find(".menu-mobile-wrapper").removeClass("open");a.find(".menu-mobile-wrapper").removeAttr("style");a.removeClass("menu-active")});a.on("click",".close-canvas-mobile-panel",function(e){var t=p(this);e.preventDefault();p(document.body).removeClass("display-canvas-layer-menu");t.closest(".menu-mobile-wrapper").removeClass("open");t.closest(".menu-mobile-wrapper").removeAttr("style");a.removeClass("menu-active")});a.on("click",".toggle-menu-children",function(e){e.preventDefault();t(p(this))});p(document).on("farmart_toggle_cart_mobile farmart_toggle_search_mobile",function(){a.removeClass("menu-active");a.find(".menu-mobile-wrapper").removeClass("open");p(document.body).removeClass("display-canvas-layer-menu")});function t(e){e.closest("li").siblings().find("ul").slideUp();e.closest("li").siblings().removeClass("active");e.closest("li").siblings().find("li").removeClass("active");e.closest("li").children("ul").slideToggle();e.closest("li").toggleClass("active")}})};h.searchMobile=function(){h.$body.find(".search-panel").each(function(){var a=p(this),i=p(".search-panel").not(a);a.on("click",".open-search-panel",function(e){e.preventDefault();var t=p(this);var a=window.innerWidth-document.documentElement.clientWidth;p(document.body).css({"padding-right":a,overflow:"hidden"});i.find(".search-panel-content").removeClass("open");i.removeClass("search-active");t.siblings(".search-panel-content").toggleClass("open");t.parent().toggleClass("search-active");p(document.body).toggleClass("display-canvas-layer-search");p(document).trigger("farmart_toggle_search_mobile")});a.on("click",".close-search-panel",function(e){e.preventDefault();var t=p(this);p(document.body).removeAttr("style");t.closest(".search-panel-content").removeClass("open");a.removeClass("search-active");a.find(".search-field").val("");a.find('input[name="product_cat"]').val("0");a.find(".product-cat-click").find("li").removeClass("actived");a.find(".product-cat-click").find("li:first-child").addClass("actived");a.find("form").removeClass("searching actived found-products found-no-product invalid-length");a.find("form").find(".search-results").html("");p(document.body).removeClass("display-canvas-layer-search")});a.on("click",".fm-off-canvas-layer",function(e){p(document.body).removeAttr("style");p(document.body).removeClass("display-canvas-layer-search");a.find(".search-panel-content").removeClass("open");a.removeClass("search-active")});p(document).on("farmart_toggle_menu_mobile farmart_toggle_cart_mobile",function(){p(document.body).removeAttr("style");a.find(".search-panel-content").removeClass("open");a.removeClass("search-active");p(document.body).removeClass("display-canvas-layer-search")})})};h.popupVideo=function(){p(".popup-video").magnificPopup({type:"iframe",mainClass:"fmp-fade",removalDelay:300,preloader:false,fixedContentPos:false,disableOn:function(){if(p(window).width()<600){return false}return true},iframe:{patterns:{youtube:{index:"youtube.com/",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}},srcAction:"iframe_src"}})};h.searchLayeredNav=function(){var e=p(".fm-widget-layered-nav");if(e.length<1){return}e.on("keyup",".fm-input-search-nav",function(e){var t=false;if(typeof e.which=="undefined"){t=true}else if(typeof e.which=="number"&&e.which>0){t=!e.ctrlKey&&!e.metaKey&&!e.altKey}if(!t){return}var a=p(this).val();if(typeof a==="number"){a=""+a}var i=a.toUpperCase(),o=p(this).closest(".fm-widget-layered-nav"),r=o.find(".woocommerce-widget-layered-nav-list"),n=r.children(".wc-layered-nav-term");n.each(function(){var e=p(this).find("a").data("title");if(typeof e==="number"){e=""+e}e=e.toUpperCase();if(e.indexOf(i)>-1){p(this).show()}else{p(this).hide()}});var s=r.data("height");if(r.height()<parseInt(s)){o.addClass("no-scroll")}else{o.removeClass("no-scroll")}})};h.priceSlider=function(){if(typeof woocommerce_price_slider_params==="undefined"){return false}if(p(".catalog-sidebar").find(".widget_price_filter").length<=0){return false}p("input#min_price, input#max_price").hide();p(".price_slider, .price_label").show();var e=p(".price_slider_amount #min_price").data("min"),t=p(".price_slider_amount #max_price").data("max"),a=parseInt(e,10),i=parseInt(t,10);if(p(".price_slider_amount #min_price").val()!=""){a=parseInt(p(".price_slider_amount #min_price").val(),10)}if(p(".price_slider_amount #max_price").val()!=""){i=parseInt(p(".price_slider_amount #max_price").val(),10)}p(document.body).on("price_slider_create price_slider_slide",function(e,t,a){if(woocommerce_price_slider_params.currency_pos==="left"){p(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+t);p(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+a)}else if(woocommerce_price_slider_params.currency_pos==="left_space"){p(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+" "+t);p(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+" "+a)}else if(woocommerce_price_slider_params.currency_pos==="right"){p(".price_slider_amount span.from").html(t+woocommerce_price_slider_params.currency_symbol);p(".price_slider_amount span.to").html(a+woocommerce_price_slider_params.currency_symbol)}else if(woocommerce_price_slider_params.currency_pos==="right_space"){p(".price_slider_amount span.from").html(t+" "+woocommerce_price_slider_params.currency_symbol);p(".price_slider_amount span.to").html(a+" "+woocommerce_price_slider_params.currency_symbol)}p(document.body).trigger("price_slider_updated",[t,a])});if(typeof p.fn.slider!=="undefined"){p(".price_slider").slider({range:true,animate:true,min:e,max:t,values:[a,i],create:function(){p(".price_slider_amount #min_price").val(a);p(".price_slider_amount #max_price").val(i);p(document.body).trigger("price_slider_create",[a,i])},slide:function(e,t){p("input#min_price").val(t.values[0]);p("input#max_price").val(t.values[1]);p(document.body).trigger("price_slider_slide",[t.values[0],t.values[1]])},change:function(e,t){p(document.body).trigger("price_slider_change",[t.values[0],t.values[1]])}})}};h.catalogFilterAjax=function(){if(p("#primary-sidebar").hasClass("farmart-sidebar-style-2")){p(".fm_widget_product_categories .product-categories").removeClass("fm-widget-vertical-item");if(p(".wp-block-group__inner-container > p").is(":empty")){p(".wp-block-group__inner-container > p").remove()}}if(!h.$body.hasClass("catalog-ajax-filter")){return}var r=p("#fm-catalog-ajax-loader");r.addClass("fade-in");p(document.body).on("price_slider_change",function(e,t){var a=p(".price_slider").closest("form").get(0),i=p(a),o=i.attr("action")+"?"+i.serialize();p(document.body).trigger("farmart_catelog_filter_ajax",o,p(this))});h.$body.on("click",".fm_widget_product_categories a, .fm-widget-layered-nav a, .widget_rating_filter a, .widget_layered_nav_filters a, ul.woocommerce-ordering a:not(.fm-cancel-order), ul.per-page a, .farmart-go-back a, .farmart-price-filter-list a",function(e){e.preventDefault();var t=p(this).attr("href");p(document.body).trigger("farmart_catelog_filter_ajax",t,p(this))});p(document.body).on("farmart_catelog_filter_ajax",function(e,t,a){var i=p("#content"),o=p(".page-header");r.removeClass("fade-in");NProgress.start();if("?"==t.slice(-1)){t=t.slice(0,-1)}t=t.replace(/%2C/g,",");history.pushState(null,null,t);p(document.body).trigger("farmart_ajax_filter_before_send_request",[t,a]);if(h.ajaxXHR){h.ajaxXHR.abort()}h.ajaxXHR=p.get(t,function(e){i.replaceWith(p(e).find("#content"));o.html(p(e).find(".page-header").html());if(p(e).find("#primary-sidebar").length<1){h.$body.removeClass("mb-filter-active sidebar-content").addClass("full-content")}p(document.body).trigger("farmart_ajax_filter_request_success",[e,t])},"html")});p(document.body).on("farmart_ajax_filter_request_success",function(){h.shopView();h.catalogCategories();h.catalogProducts();h.searchLayeredNav();h.productCategoriesWidget();h.productAttribute();h.priceSlider();h.productsCarouselWidget();h.toggleWidget();NProgress.done();if(p("#primary-sidebar").hasClass("farmart-sidebar-style-2")){p(".fm_widget_product_categories .product-categories").removeClass("fm-widget-vertical-item")}r.addClass("fade-in");p(document.body).removeClass("fm-overflow-y")})};h.filterOnMobile=function(){var i=p(".fm-navigation-mobile");h.$body.on("click","#fm-filter-mobile",function(e){e.preventDefault();var t=p(this),a=i.height();h.$body.find(".catalog-sidebar").fadeIn().toggleClass("fm-filter-active");p(document.body).toggleClass("fm-overflow-y");h.$body.find("#primary-sidebar").css("height",p(window).height()-a)});h.$body.on("click",".catalog-sidebar .backdrop,.catalog-sidebar .close-sidebar",function(e){e.preventDefault();h.$body.find(".catalog-sidebar").fadeOut().removeClass("fm-filter-active");p(document.body).removeClass("fm-overflow-y")})};h.filterSidebar=function(){var i=p(".fm-navigation-mobile");h.$body.on("click","#fm-vendor-infor-mobile",function(e){e.preventDefault();var t=p(this),a=i.height();h.$body.find(".dokan-store-sidebar").fadeIn().toggleClass("fm-filter-active");h.$body.find("#wcfmmp-store .sidebar").fadeIn().toggleClass("fm-filter-active");p(document.body).toggleClass("fm-overflow-y");h.$body.find(".dokan-store-sidebar").css("height",p(window).height()-a);h.$body.find(".dokan-widget-area").css("padding-bottom",a+"px");h.$body.find("#wcfmmp-store .sidebar").css("height",p(window).height()-a);h.$body.find(".wcfm-widget-area").css("padding-bottom",a+"px")});h.$body.on("click",".close-sidebar",function(e){e.preventDefault();h.$body.find(".dokan-store-sidebar").fadeOut().removeClass("fm-filter-active");h.$body.find("#wcfmmp-store .sidebar").fadeOut().removeClass("fm-filter-active");p(document.body).removeClass("fm-overflow-y")})};h.changeArrowNav=function(){p(".dokan-single-store .dokan-pagination-container .dokan-pagination li:first-child a").html('<span class="farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M22.4 32c0.205 0 0.409-0.078 0.566-0.234 0.312-0.312 0.312-0.819 0-1.131l-13.834-13.834 13.834-13.834c0.312-0.312 0.312-0.819 0-1.131s-0.819-0.312-1.131 0l-14.4 14.4c-0.312 0.312-0.312 0.819 0 1.131l14.4 14.4c0.156 0.156 0.361 0.234 0.566 0.234z"></path></svg></span>');p(".dokan-single-store .dokan-pagination-container .dokan-pagination li:last-child a").html('<span class="farmart-svg-icon"><svg viewBox="0 0 32 32"><path d="M8 32c-0.205 0-0.409-0.078-0.566-0.234-0.312-0.312-0.312-0.819 0-1.131l13.834-13.834-13.834-13.834c-0.312-0.312-0.312-0.819 0-1.131s0.819-0.312 1.131 0l14.4 14.4c0.312 0.312 0.312 0.819 0 1.131l-14.4 14.4c-0.156 0.156-0.361 0.234-0.566 0.234z"></path></svg></span>')};h.preLoader=function(){if(!h.$body.hasClass("fm-preloader")){return}var e=p("#farmart-preloader");if(!e.length){return}if(h.$body.hasClass("elementor-editor-active")){e.addClass("fade-in");return}h.$window.on("load",function(){e.addClass("fade-in")})};h.catalogBanners=function(){var e=p("#fm-catalog-banners");if(e.length<=0){return}var t=e.data("autoplay"),a=false,i=1e3;if(t>0){a=true;i=t;t=true}else{t=false}e.slick({rtl:farmartData.direction==="true",slidesToShow:1,slidesToScroll:1,autoplaySpeed:i,autoplay:t,infinite:a,arrows:true,dots:true,prevArrow:h.$iconChevronLeft,nextArrow:h.$iconChevronRight,responsive:[{breakpoint:992,settings:{arrows:false}}]})};h.catalogCategories=function(){var e=p("#fm-catalog-categories .catalog-carousel__wrapper");if(e.length<=0){return}var t=e.data("columns");e.slick({rtl:farmartData.direction==="true",slidesToShow:t,slidesToScroll:1,arrows:true,dots:false,prevArrow:h.$iconChevronLeft,nextArrow:h.$iconChevronRight,responsive:[{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:1,arrows:false,dots:true}},{breakpoint:768,settings:{slidesToShow:2,arrows:false,dots:true}}]})};h.catalogProducts=function(){var e=p(".fm-catalog-products .catalog-carousel__wrapper");if(!e.length){return}e.each(function(){var e=p(this),t=e.find("ul.products"),a=e.data("settings");if(t.children().length<a.slidesToShow){return}var i={arrows:false,dots:true,prevArrow:h.$iconChevronLeft,nextArrow:h.$iconChevronRight};var o=JSON.stringify(a);t.attr("data-slick",o);t.slick(i)})};h.productAttribute=function(){var r="",n="";h.$body.on("mouseover",".fm-swatch-item",function(e){e.preventDefault();var t=p(this).closest("li.product").find(".fm-product-thumbnail"),a=t.find("img");r=a.attr("src");n=a.attr("srcset");var i=p(this).data("src"),o=p(this).data("src-set");a.attr("src",i);if(o){a.attr("srcset",o)}}).on("mouseout",".fm-swatch-item",function(e){e.preventDefault();var t=p(this).closest("li.product").find(".fm-product-thumbnail"),a=t.find("img");if(r){a.attr("src",r)}if(n){a.attr("srcset",n)}})};h.catalogToolbarPagination=function(){p(".fm-toolbar-pagination").on("submit",function(){var e=p("#fm-catalog-page-number").val(),t=p("#fm-catalog-url-page-"+e).val();window.location.href=t;return false})};h.shopView=function(){p("#fm-shop-view").on("click",".shop-view__icon a",function(e){e.preventDefault();var t=p(this),a=t.data("view");if(t.hasClass("current")){return}t.addClass("current").siblings().removeClass("current");h.$body.removeClass("catalog-view-grid catalog-view-list catalog-view-extended").addClass("catalog-view-"+a);document.cookie="catalog_view="+a+";domain="+window.location.host+";path=/";h.$body.trigger("farmart_shop_view_after_change")})};h.productQuickView=function(){var r=p("#fm-quick-view-modal"),n=r.find(".product-modal-content"),i=farmartData.ajax_url.toString().replace("%%endpoint%%","product_quick_view");if(i==""){return}h.$body.on("click",".fm-product-quick-view",function(e){e.preventDefault();var t=p(this),a=t.data("id");n.hide().html("");r.addClass("loading").removeClass("loaded");h.openModal(r);p.ajax({url:i,dataType:"json",method:"post",data:{action:"farmart_product_quick_view",nonce:farmartData.nonce,product_id:a},success:function(e){n.show().append(e.data);r.removeClass("loading").addClass("loaded");var t=n.find(".woocommerce-product-gallery"),a=p(".variations_form"),i=n.find("form.cart .actions-button"),o=i.find(".buy_now_button");t.removeAttr("style");t.imagesLoaded(function(){t.find(".woocommerce-product-gallery__wrapper").not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,infinite:false,dots:true,prevArrow:h.$iconChevronLeft,nextArrow:h.$iconChevronRight})});if(o.length>0){i.prepend(o)}t.find(".woocommerce-product-gallery__image").on("click",function(e){e.preventDefault()});if(typeof wc_add_to_cart_variation_params!=="undefined"){a.each(function(){p(this).wc_variation_form()})}if(typeof p.fn.tawcvs_variation_swatches_form!=="undefined"){a.tawcvs_variation_swatches_form()}if(typeof tawcvs!=="undefined"){if(tawcvs.tooltip==="yes"){a.find(".swatch").tooltip({classes:{"ui-tooltip":"farmart-tooltip"},tooltipClass:"farmart-tooltip qv-tool-tip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}})}}h.buyNow();h.addToCartAjax()}})});r.on("click",".close-modal, .fm-modal-overlay",function(e){e.preventDefault();h.closeModal(r)})};h.buyNow=function(){h.$body.find("form.cart").on("click",".buy_now_button",function(e){e.preventDefault();var t=p(this).closest("form.cart"),a=p(this).is(":disabled");if(a){jQuery("html, body").animate({scrollTop:p(this).offset().top-200},900)}else{t.append('<input type="hidden" value="true" name="buy_now" />');t.find(".single_add_to_cart_button").addClass("has-buy-now");t.find(".single_add_to_cart_button").trigger("click")}})};h.openModal=function(e){e.fadeIn();e.addClass("open")};h.closeModal=function(e){e.fadeOut(function(){p(this).removeClass("open")})};h.addToCartAjax=function(){var s=false;h.$body.find("form.cart").on("click",".single_add_to_cart_button",function(e){var o=p(this),t=o.closest("form.cart"),r=o.closest(".product").find(".product_title");if(o.hasClass("has-buy-now")){return}if(t.length>0){e.preventDefault()}else{return}if(o.hasClass("disabled")){return}o.addClass("loading");if(s){return}s=true;var a=t.serializeArray(),n=window.location.href;if(o.val()!=""){a.push({name:o.attr("name"),value:o.val()})}p.ajax({url:window.location.href,method:"post",data:a,error:function(){window.location=n},success:function(e){if(!e){window.location=n}if(typeof wc_add_to_cart_params!=="undefined"){if(wc_add_to_cart_params.cart_redirect_after_add==="yes"){window.location=wc_add_to_cart_params.cart_url;return}}p(document.body).trigger("updated_wc_div");p(document.body).on("wc_fragments_refreshed",function(){o.removeClass("loading")});var t="",a="success",i=r.html();if(p(e).find(".woocommerce-message").length>0){t=p(e).find(".woocommerce-message").html()}if(p(e).find(".woocommerce-error").length>0){t=p(e).find(".woocommerce-error").html();a="error"}if(p(e).find(".woocommerce-info").length>0){t=p(e).find(".woocommerce-info").html()}if(!t){i=r.find("a").html()}console.log(i);h.addedToCartNotice(t,i,true,a,false);s=false}})})};h.addedToCartNotice=function(e,t,a,i,o){if(farmartData.added_to_cart_notice==="undefined"||!p.fn.notify){return}if(t===false){t=" "}else{if(o){t+=" "+farmartData.added_to_cart_notice.added_to_cart_texts}else{t+=" "+farmartData.added_to_cart_notice.added_to_cart_text}}e+='<a href="'+farmartData.added_to_cart_notice.cart_view_link+'" class="btn-button">'+farmartData.added_to_cart_notice.cart_view_text+"</a>";if(a){e='<div class="message-box">'+e+"</div>"}p.notify.addStyle("farmart",{html:"<div>"+h.$icon_check+"<span data-notify-text/>"+e+h.$icon_close+"</div>"});p.notify(t,{autoHideDelay:farmartData.added_to_cart_notice.cart_notice_auto_hide,className:i,style:"farmart",showAnimation:"fadeIn",hideAnimation:"fadeOut"})};h.addedToCartFaildNotice=function(e,t,a,i,o){if(farmartData.added_to_cart_notice==="undefined"||!p.fn.notify){return}t=" ";e='<div class="message-box">'+e+"<br>"+farmartData.added_to_cart_notice.noticeQuantityMin+" : "+o+"<br>"+farmartData.added_to_cart_notice.noticeQuantityMax+" : "+i+"</div>";p.notify.addStyle("farmart",{html:"<div>"+h.$icon_alert+"<span data-notify-text/>"+e+h.$icon_close+"</div>"});p.notify(t,{autoHideDelay:farmartData.added_to_cart_notice.cart_notice_auto_hide,className:a,style:"farmart",showAnimation:"fadeIn",hideAnimation:"fadeOut"})};h.catalogOpenCartMini=function(){p(document.body).on("added_to_cart",function(e,t,a,i){var o=i.attr("data-title"),r='<span class="notify-quantity">('+"x"+i.data("quantity")+")</span>";h.addedToCartNotice(r,o,false,"success",false)})};h.productQuantity=function(){h.$body.on("click",".quantity .increase, .quantity .decrease",function(e){e.preventDefault();var t=p(this),a=t.closest(".product-button"),i=a.find(".quantity_button"),o=t.closest(".quantity").siblings(".box-price").find(".price-current"),r=o.html(),n=t.siblings(".qty"),s=parseInt(n.attr("step"),10),c=parseInt(n.val(),10),d=parseInt(n.attr("min"),10),l=parseInt(n.attr("max"),10);d=d?d:0;l=l?l:c+1;if(t.hasClass("decrease")&&c>d){n.val(c-s);n.trigger("change");var f=+i.attr("data-quantity");f=f-1;i.attr("data-quantity",f);var u=(r*1-r/c).toFixed(2);o.html(u)}if(t.hasClass("increase")&&c<l){n.val(c+s);n.trigger("change");var f=+i.attr("data-quantity");f=f+1;i.attr("data-quantity",f);var m=(r*1+r/c).toFixed(2);o.html(m)}});h.$body.on("keyup",".quantity .qty",function(e){e.preventDefault();var t=p(this),a=t.closest(".product-button"),i=a.find(".quantity_button"),o=t.closest(".quantity").siblings(".box-price").find(".price-current"),r=o.data("current"),n=parseInt(t.val(),10),s=parseInt(t.attr("min"),10),c=parseInt(t.attr("max"),10);var d=s?s:1;var l=c?c:n+1;if(n<=l&&n>=d){i.attr("data-quantity",n);var f=(r*n).toFixed(2);o.html(f)}else{var u=farmartData.added_to_cart_notice.noticeFaildQuantity;h.addedToCartFaildNotice(u,"","success",c,s)}})};h.addWishlist=function(){p("ul.products li.product .yith-wcwl-add-button").on("click","a",function(){p(this).addClass("loading")});h.$body.on("added_to_wishlist",function(e,t){e.preventDefault();p("ul.products li.product .yith-wcwl-add-button a").removeClass("loading");if(t.hasClass("fbt-wishlist")){return}var a=t.data("product-title");h.addedToWishlistNotice("",a,"success",min,max)})};h.updateWishlistCounter=function(){var e=p(".fm-wishlist .mini-item-counter, .header-element--wishlist .mini-item-counter");if(!e.length){return}p(document.body).on("added_to_wishlist",function(){e.text(function(){return parseInt(this.innerText,10)+1})}).on("removed_from_wishlist",function(){e.text(function(){var e=parseInt(this.innerText,10)-1;return Math.max(0,e)})})};h.addedToWishlistNotice=function(e,t,a,i,o){if(typeof farmartData.added_to_wishlist_notice==="undefined"||!p.fn.notify){return}if(o){t+=" "+farmartData.added_to_wishlist_notice.added_to_wishlist_texts}else{t+=" "+farmartData.added_to_wishlist_notice.added_to_wishlist_text}e+='<a href="'+farmartData.added_to_wishlist_notice.wishlist_view_link+'" class="btn-button">'+farmartData.added_to_wishlist_notice.wishlist_view_text+"</a>";if(a){e='<div class="message-box">'+e+"</div>"}p.notify.addStyle("farmart",{html:"<div>"+h.$icon_check+"<span data-notify-text/>"+e+h.$icon_close+"</div>"});p.notify(t,{autoHideDelay:farmartData.added_to_wishlist_notice.wishlist_notice_auto_hide,className:i,style:"farmart",showAnimation:"fadeIn",hideAnimation:"fadeOut"})};h.addCompare=function(){h.$body.on("click","a.compare:not(.added)",function(e){e.preventDefault();var t=p(this);t.addClass("loading");t.closest(".product-inner, .single-button-wrapper").find(".compare:not(.loading)").trigger("click");var a=false;if(p(this).hasClass("added")){a=true}if(a===false){var i=h.$header.find(".mini-compare-counter").html();i=parseInt(i,10)+1;setTimeout(function(){h.$header.find(".mini-compare-counter").html(i);t.removeClass("loading")},2e3)}});p(document).find(".compare-list").on("click",".remove a",function(e){e.preventDefault();var t=p(".mini-compare-counter",window.parent.document).html();t=parseInt(t,10)-1;if(t<0){t=0}p(".mini-compare-counter",window.parent.document).html(t);p("a.compare").removeClass("loading")});p(".yith-woocompare-widget").on("click","li a.remove",function(e){e.preventDefault();var t=h.$header.find(".mini-compare-counter").html();t=parseInt(t,10)-1;if(t<0){t=0}setTimeout(function(){h.$header.find(".mini-compare-counter").html(t)},2e3)});p(".yith-woocompare-widget").on("click","a.clear-all",function(e){e.preventDefault();setTimeout(function(){h.$header.find(".mini-compare-counter").html("0")},2e3)})};h.loadMoreProducts=function(){p(document.body).on("click",".woocommerce-navigation.ajax-navigation a",function(e){e.preventDefault();var t=p(this);if(t.hasClass("loading")){return}t.addClass("loading");a(p(this))});if(p(document.body).hasClass("catalog-nav-infinite")){p(window).on("scroll",function(){if(p(document.body).find(".woocommerce-navigation.ajax-navigation").is(":in-viewport")){p(document.body).find(".woocommerce-navigation.ajax-navigation a").trigger("click")}}).trigger("scroll")}function a(r){var n=r.closest(".woocommerce-navigation"),e=r.attr("href");p.get(e,function(e){var t=p("#main",e),a=p("ul.products",t),i=a.children(),o=p(".woocommerce-navigation.ajax-navigation",t);i.each(function(e,t){p(t).css("animation-delay",e*100+"ms")});i.appendTo(n.prev("ul.products"));i.addClass("animated farmartFadeInUp");if(o.length){r.replaceWith(p("a",o))}else{n.fadeOut(function(){n.remove()})}p(document.body).trigger("farmart_products_loaded",[i,true]);p(document.body).trigger("yith_wcwl_init")})}};h.productCategoriesWidget=function(){var e=p(".fm_widget_product_categories");if(e.length<=0){return}e.find("ul.children").closest("li").prepend(h.$icon_chevron_down);e.find("li.current-cat-parent, li.current-cat, li.current-cat-ancestor").addClass("opened").children(".children").show();e.on("click",".cat-menu-close",function(e){e.preventDefault();p(this).closest("li").children(".children").slideToggle();p(this).closest("li").toggleClass("opened")})};h.toggleWidget=function(){p(".widget").each(function(){var e=p(this).find(".toggle-widget-btn");e.on("click",function(){var e=p(this).closest(".widget").children().not(".widget-title");p(this).toggleClass("close");e.slideToggle()})})};h.productsCarouselWidget=function(){p(".fm-widget-products-carousel").each(function(){var e=p(this),t={prevArrow:h.$iconChevronLeft,nextArrow:h.$iconChevronRight};e.find("ul.products").not(".slick-initialized").slick(t)})};h.addClassCalendar=function(){var e=new Date,t=e.getDate();p("#wp-calendar tbody td").each(function(){var e=p(this).text();if(t>e){p(this).addClass("old")}})};h.productThumbnail=function(){var i=p(".woocommerce-product-gallery"),o=i.find(".woocommerce-product-gallery__image.fm-product-video"),r=i.find(".flex-control-thumbs"),n=i.parent();h.$window.on("load",function(){p(".woocommerce-product-gallery").find(".woocommerce-product-gallery__image").each(function(){if(p(this).find("img").hasClass("lazy")){var e=p(this).find("img").data("original");p(this).find("img").attr("src",e)}})});i.imagesLoaded(function(){setTimeout(function(){if(r.length<1){return}if(h.$body.hasClass("mobile-version")){return}var e=i.data("columns");var t=r.find("li").length;if(t>e){var a={rtl:farmartData.isRTL==="1",slidesToShow:e,slidesToScroll:1,vertical:true,focusOnSelect:true,infinite:false,prevArrow:h.$iconChevronLeft,nextArrow:h.$iconChevronRight};if(n.hasClass("fm-product-thumbnail-horizontal")){a.vertical=false;a.prevArrow=h.$iconChevronLeft;a.nextArrow=h.$iconChevronRight}r.slick(a)}else{r.addClass("no-slick")}if(o.length>0){p(".woocommerce-product-gallery").addClass("has-video");if(p(".woocommerce-product-gallery").hasClass("video-first")){r.find("li").first().append('<div class="i-video"><div class="i-inner"></div><div class="i-play"></div></div>')}else{r.find("li").last().append('<div class="i-video"><div class="i-inner"></div><div class="i-play"></div></div>')}}},100)});h.$window.on("resize",function(){var e=i.find(".woocommerce-product-gallery__image").height(),t=i.find(".product-image-ms");t.css("top",e+50)}).trigger("resize")};h.productVideo=function(){var o=p(".woocommerce-product-gallery");var e=o.find(".woocommerce-product-gallery__image.fm-product-video");var t=o.find(".flex-control-thumbs");if(e.length<1){return}var r=false,n=false;t.on("click","li",function(){var e=o.find(".fm-product-video");var t=p(this).siblings().length;n=true;if(p(this).index()==t){n=false;r=false}if(!r&&n){var a=e.find("iframe"),i=e.find("video.wp-video-shortcode");if(a.length>0){a.attr("src",a.attr("src"))}if(i.length>0){i[0].pause()}r=true}return false});t.find("li").on("click",".i-video",function(e){e.preventDefault();p(this).closest("li").find("img").trigger("click")})};h.productGallery=function(){var e=p(".woocommerce-product-gallery");if(typeof farmartData.product_gallery==="undefined"||farmartData.product_gallery!="1"){e.on("click",".woocommerce-product-gallery__image",function(e){return false});return}if(!e.length){return}e.find(".woocommerce-product-gallery__image").on("mouseenter",function(){p(this).closest(".woocommerce-product-gallery").find(".ms-image-view").removeClass("hide");p(this).closest(".woocommerce-product-gallery").find(".ms-image-zoom").addClass("hide")});e.find(".woocommerce-product-gallery__image").on("mouseleave",function(){p(this).closest(".woocommerce-product-gallery").find(".ms-image-view").addClass("hide");p(this).closest(".woocommerce-product-gallery").find(".ms-image-zoom").removeClass("hide")});e.on("click",".woocommerce-product-gallery__image",function(e){e.preventDefault();if(p(this).hasClass("fm-product-video")){return false}var t=[];var a=p(this).closest(".woocommerce-product-gallery").find(".woocommerce-product-gallery__image");a.each(function(){var e=p(this);if(e.hasClass("fm-product-video")){t.push({html:e.find(".fm-video-content").html()})}else{t.push({src:e.children("a").attr("href"),w:e.find("a img").attr("data-large_image_width"),h:e.find("a img").attr("data-large_image_height")})}});var i=a.index(p(this)),o={index:i,bgOpacity:.85,showHideOpacity:true,mainClass:"pswp--minimal-dark",barsSize:{top:0,bottom:0},captionEl:false,fullscreenEl:false,shareEl:false,tapToClose:true,tapToToggleControls:false};var r=new PhotoSwipe(document.getElementById("pswp"),window.PhotoSwipeUI_Default,t,o);r.init();r.listen("close",function(){p(".fm-video-wrapper").find("iframe").each(function(){p(this).attr("src",p(this).attr("src"))});p(".fm-video-wrapper").find("video").each(function(){p(this)[0].pause()})});return false})};h.hoverProductTabs=function(){var e,t,a,i,o,r=p(".single-product .woocommerce-tabs").find("ul.wc-tabs");if(r.length<1){return}r.append('<li id="fm-wc-tab__magic-line" class="fm-wc-tab__magic-line"></li>');var n=p("#fm-wc-tab__magic-line");h.$window.on("load",function(){o=r.children("li.active").outerWidth();n.width(o).css("left",r.children("li.active").position().left).data("origWidth",n.width());i=n.data("origWidth");r.children("li").on("mouseenter",function(){e=p(this);a=e.outerWidth();t=e.position().left;n.stop().animate({left:t,width:a})});r.children("li").on("mouseleave",function(){n.stop().animate({left:n.data("origLeft"),width:i})});r.on("click","li",function(){e=p(this);i=a=e.outerWidth();t=e.position().left;n.stop().animate({left:t,width:a});n.data("origLeft",t).data("origWidth",a)})})};h.singleProductCarousel=function(){var e=p(".single-product, .fm-cart-page").find(".related-products");e.each(function(){var e=p(this),t=e.data("columns"),a=e.find("ul.products");if(a.find("li.product").length<t){return}a.not(".slick-initialized").slick({rtl:farmartData.direction==="true",slidesToShow:parseInt(t),slidesToScroll:1,arrows:true,dots:false,infinite:false,centerPadding:"20px",prevArrow:h.$iconChevronLeft,nextArrow:h.$iconChevronRight,responsive:[{breakpoint:1366,settings:{slidesToShow:parseInt(t)>5?5:parseInt(t),slidesToScroll:parseInt(t)>5?5:parseInt(t),arrows:false,dots:true}},{breakpoint:1200,settings:{slidesToShow:parseInt(t)>4?4:parseInt(t),slidesToScroll:parseInt(t)>4?4:parseInt(t),arrows:false,dots:true}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3,arrows:false,dots:true}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2,arrows:false,dots:true}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:2,arrows:false,dots:true}}]})})};h.fbtProduct=function(){if(!h.$body.hasClass("single-product")){return}var o=p("#fm-product-fbt");if(o.length<=0){return}var r=o.find(".fm-total-price .woocommerce-Price-amount"),n=o.find(".fm_add_to_cart_button"),s=parseFloat(o.find("#fm-data_price").data("price")),c=farmartData.currency_param.currency_symbol,d=farmartData.currency_param.thousand_sep,l=farmartData.currency_param.decimal_sep,f=farmartData.currency_param.price_decimals,u=farmartData.currency_param.currency_pos;o.find(".products-list").on("click","a",function(e){e.preventDefault();var t=p(this).data("id");p(this).closest("li").toggleClass("uncheck");var a=parseFloat(p(this).closest("li").find(".s-price").data("price"));if(p(this).closest("li").hasClass("uncheck")){o.find("#fbt-product-"+t).addClass("un-active");s-=a}else{o.find("#fbt-product-"+t).removeClass("un-active");s+=a}var i="0";o.find(".products-list li").each(function(){if(!p(this).hasClass("uncheck")){i+=","+p(this).find("a").data("id")}});n.attr("value",i);r.html(m(s))});function m(e){var t=e;if(parseInt(f)>0){e=e.toFixed(f)+"";var a=e.split(".");var i=a[0],o=a.length>1?l+a[1]:"";var r=/(\d+)(\d{3})/;while(r.test(i)){i=i.replace(r,"$1"+d+"$2")}t=i+o}switch(u){case"left":return c+t;break;case"right":return t+c;break;case"left_space":return c+" "+t;break;case"right_space":return t+" "+c;break}}};h.fbtAddToCartAjax=function(){var s=p("#fm-product-fbt");if(s.length<=0){return}s.on("click",".fm_add_to_cart_button.ajax_add_to_cart",function(e){e.preventDefault();var t=p(this);t.addClass("loading");var a=window.location.href,i="",o=0;s.find(".products-list li").each(function(){if(!p(this).hasClass("uncheck")){if(o>0){i+=","}i+=" "+p(this).find("a").data("title");o++}});var r={nonce:farmartData.nonce,product_ids:t.attr("value")},n=farmartData.ajax_url.toString().replace("%%endpoint%%","farmart_fbt_add_to_cart");p.post(n,r,function(e){if(typeof wc_add_to_cart_params!=="undefined"){if(wc_add_to_cart_params.cart_redirect_after_add==="yes"){window.location=wc_add_to_cart_params.cart_url;return}}p(document.body).trigger("updated_wc_div");p(document.body).on("wc_fragments_refreshed",function(){t.removeClass("loading")});h.addedToCartNotice("",i,false,"success",true)})})};h.fbtAddToWishlistAjax=function(){var o=p("#fm-product-fbt"),r=0;if(!o.length){return}var n=s();if(n.length==0){o.find(".btn-view-to-wishlist").addClass("showed");o.find(".btn-add-to-wishlist").addClass("hided")}o.on("click",".btn-add-to-wishlist",function(e){e.preventDefault();var t=p(this);n=s();if(n.length==0){return}var a="",i=0;o.find(".products-list li").each(function(){if(!p(this).hasClass("uncheck")){if(i>0){a+=","}a+=" "+p(this).find("a").data("title");i++}});t.addClass("loading");c(n[r]);h.$body.on("added_to_wishlist",function(){if(n.length>r){c(n[r])}else if(n.length==r){o.find(".btn-view-to-wishlist").addClass("showed");o.find(".btn-add-to-wishlist").addClass("hided");h.addedToWishlistNotice("",a,false,"success",true);t.removeClass("loading")}})});function s(){var e=[];o.find("li.product").each(function(){if(!p(this).hasClass("un-active")&&!p(this).hasClass("product-buttons")&&!p(this).find(".yith-wcwl-add-to-wishlist").hasClass("exists")){if(e.indexOf(p(this).data("id"))==-1){e.push(p(this).data("id"))}}});return e}function c(e){var t=o.find(".add-to-wishlist-"+e);t.find(".yith-wcwl-add-button .add_to_wishlist").trigger("click");r++;return r}};h.productVariation=function(){var a=p(".variations_form");h.$body.on("tawcvs_initialized",function(){a.unbind("tawcvs_no_matching_variations");a.on("tawcvs_no_matching_variations",function(e,t){e.preventDefault();a.find(".woocommerce-variation.single_variation").show();if(typeof wc_add_to_cart_variation_params!=="undefined"){a.find(".single_variation").slideDown(200).html("<p>"+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>")}})});a.find("td.value").on("change","select",function(){var e=p(this).find("option:selected").text();p(this).closest("tr").find("td.label .fm-attr-value").html(e)})};h.stickyProductInfo=function(){if(!h.$body.hasClass("sticky-header-info")){return}var a=p("#sticky-product-info-wapper"),i=p("div.product").find(".woocommerce-tabs"),o=a.outerHeight(true),r=p("div.product").find(".fm-product-summary"),n=p("div.product").find(".entry-summary").find(".cart"),s=0;a.find(".sc-tabs").on("click","a",function(e){e.preventDefault();var t=p(this).data("tab");p(this).closest(".sc-tabs").find("a").removeClass("active");p(this).addClass("active");if(h.$body.hasClass("mobile-version")){var a=p("#tab-"+t);if(a.length>0){s=a.offset().top-o-60;p("html, body").stop().animate({scrollTop:s},400)}}else{if(i.length>0){i.find("."+t+"_tab a").trigger("click");s=i.offset().top-o-60;p("html, body").stop().animate({scrollTop:s},400)}}});i.find(".wc-tabs").on("click","a",function(e){e.preventDefault();var t=p(this).attr("href");t=t?t.replace("#",""):t;if(t){a.find(".sc-tabs").find("a").removeClass("active");a.find(".sc-tabs ."+t).addClass("active")}});a.find(".sc-product-cart").on("click",".button",function(e){e.preventDefault();if(n.length>0){var t=n.offset().top-o-50;p("html, body").stop().animate({scrollTop:t},400)}});var c=150;if(h.$body.hasClass("mobile-version")){h.$window.on("scroll",function(){a.find(".sc-tabs li a").removeClass("active");a.find(".sc-tabs li").each(function(){var e=p(this).find("a");var t=e.attr("href");if(p(t).is(":in-viewport("+c+")")){e.addClass("active")}})})}if(r.length<1){return}var d=0;h.$window.on("scroll",function(){if(h.$body.hasClass("mobile-version")){var e=p("#topbar").length>0?p("#topbar").outerHeight(true):0,t=h.$header.outerHeight(true);d=t+e}else{d=r.offset().top-300}if(h.$window.scrollTop()>d){a.addClass("viewport")}else{a.removeClass("viewport")}});var e=p("#wpadminbar"),t=a.data("top_offset");if(e.length&&"top"&&"fixed"===e.css("position")){t+=e.height()}a.css({top:t})};h.productsCarousel=function(){var e=p(".farmart-wc-products-carousel");e.each(function(){var e=p(this),t=e.find("ul.products"),a=e.data("settings");var i={arrows:true,dots:false,prevArrow:h.$iconChevronLeft,nextArrow:h.$iconChevronRight};var o=JSON.stringify(a);t.attr("data-slick",o);t.slick(i)})};h.Tabs=function(){var o=p(".farmart-tabs");o.each(function(){var e=p(this).find(".tabs-nav a"),i=p(this).find(".tabs-panel");e.filter(":first").addClass("active");p(this).find(".tabs-nav").find("li").filter(":first").addClass("active");i.filter(":first").addClass("active");e.on("click",function(e){if(p(this).hasClass("view-all")){return}e.preventDefault();var t=p(this),a=t.parent().index();if(t.hasClass("active")){return}o.find(".tabs-nav a").removeClass("active");t.addClass("active");i.removeClass("active");i.filter(":eq("+a+")").addClass("active")})})};h.reviewProduct=function(){setTimeout(function(){p("#respond p.stars a").prepend('<span class="farmart-svg-icon"><svg aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg></span>')},100)};h.postFormatGallery=function(){var e=p(".format-gallery").find("ul.slides");var t={prevArrow:h.$iconChevronLeft,nextArrow:h.$iconChevronRight};e.not(".slick-initialized").slick(t)};h.postRelated=function(){var e=p(".farmart-post__related").find(".list-post");e.each(function(){var e=p(this),t={prevArrow:h.$iconChevronLeft,nextArrow:h.$iconChevronRight};e.slick(t)})};h.blogFilterAjax=function(){h.$body.find("#farmart-taxs-list").on("click","a",function(e){e.preventDefault();p(this).addClass("selected");var t=p(this).attr("href");h.$body.trigger("farmart_blog_filter_ajax",t,p(this))});h.$body.on("farmart_blog_filter_ajax",function(e,t){var a=p(".farmart-post--wrapper"),i=p("#farmart-taxs-list");a.addClass("show");p(".farmart-post-list__loading").addClass("show");if("?"==t.slice(-1)){t=t.slice(0,-1)}t=t.replace(/%2C/g,",");history.pushState(null,null,t);if(h.ajaxXHR){h.ajaxXHR.abort()}h.ajaxXHR=p.get(t,function(e){setTimeout(function(){a.replaceWith(p(e).find(".farmart-post--wrapper"));i.html(p(e).find("#farmart-taxs-list").html());h.postFormatGallery();p(".farmart-post-list__loading").removeClass("show");p(".farmart-post--wrapper .blog-wrapper").addClass("animated farmartFadeInUp");a.removeClass("show")},800);h.$body.trigger("farmart_ajax_filter_request_success",[e,t])},"html")})};h.blogLoadingAjax=function(){h.$window.on("scroll",function(){if(h.$body.find("#farmart-posts-load-scroll").is(":in-viewport")){h.$body.find("#farmart-posts-load-scroll").closest("a").click()}}).trigger("scroll");h.$body.on("click","#farmart-blog-previous-ajax a",function(e){e.preventDefault();if(p(this).data("requestRunning")){return}p(this).data("requestRunning",true);var t=p(this).closest(".site-main"),i=t.find(".farmart-post-list"),o=p(this).parents(".load-navigation");o.addClass("loading");p.get(p(this).attr("href"),function(e){var t=p(e).find(".farmart-post-list").children(".blog-wrapper"),a=p(e).find(".load-navigation").html();o.addClass("loading");o.html(a);i.append(t);h.postFormatGallery();h.popupVideo();o.find("a").data("requestRunning",false);t.addClass("animated farmartFadeInUp");o.removeClass("loading")})})};h.scrollTop=function(){var e=p("#scroll-top");h.$window.scroll(function(){if(h.$window.scrollTop()>h.$window.height()){e.addClass("show")}else{e.removeClass("show")}});e.on("click",function(e){e.preventDefault();p("html, body").stop().animate({scrollTop:0},800)})};h.wooTabToggle=function(){if(typeof farmartData.product_collapse_tab==="undefined"){return}var e=p(".fm-woo-tabs .fm-Tabs-panel");e.each(function(){var e=p(this),t=e.attr("id"),a=p("#"+t).find(".tab-title");if(farmartData.product_collapse_tab.status=="close"){a.siblings(".tab-content-wrapper").addClass("closed")}else{a.addClass("active")}a.on("click",function(e){e.preventDefault();p(this).siblings(".tab-content-wrapper").toggleClass("opened");p(this).toggleClass("active")})})};h.catalogSorting=function(){if(h.$window.width()>767){return}var t=p("#fm-catalog-sorting-mobile");p("#fm-catalog-toolbar").on("click",".woocommerce-ordering",function(e){e.preventDefault();t.addClass("fm-active")});t.on("click","a",function(e){e.preventDefault();t.removeClass("fm-active");t.find("a").removeClass("active");p(this).addClass("active")})};h.goBackToPreviouslyPage=function(){var e=p(".farmart-go-back");e.each(function(){var e=p(this);e.on("click","a",function(e){e.preventDefault();window.history.go(-1);p(window).on("popstate",function(e){window.location.reload(true)})})})};p(function(){h.init()})})(jQuery);